{"version":3,"sources":["App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/LoadMoreButton.module.css","components/Searchbar/Searchbar.module.css","services/ImagesApi.jsx","components/Container/Container.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.jsx","components/Button/LoadMoreButton.jsx","components/Modal/Modal.jsx","App.jsx","index.js"],"names":["module","exports","axios","defaults","baseURL","api","fetchImages","searchQuery","currentPage","pageSize","get","then","data","hits","Container","children","className","s","container","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","src","alt","ImageGalleryItemImage","ImageGallery","map","id","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","trim","toast","toaster","props","onSubmit","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","LoadMoreButton","button","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","Overlay","App","isLoading","showModal","onChangeQuery","error","options","imagesApi","length","info","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","onModal","toggleModal","prevProps","shouldRenderLoadMoreButton","color","height","width","Loader","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.354bd007.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"App_Loader__12yUz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoadMoreButton_button__xGv_S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\",\"toaster\":\"Searchbar_toaster__2nTsL\"};","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api\";\nconst API_KEY = \"23036678-74019fd4c7410c35bfdd6c3b0\";\n\nconst fetchImages = ({ searchQuery = \"\", currentPage = 1, pageSize = 12 }) => {\n  return axios\n    .get(\n      `/?key=${API_KEY}&q=${searchQuery}\n    &page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\n    )\n    .then(({ data }) => data.hits);\n};\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import PropTypes from \"prop-types\";\nimport s from \"./Container.module.css\";\n\nconst Container = ({ children }) => (\n  <div className={s.container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, onClick }) => (\n  <li className={s.ImageGalleryItem}>\n    <img\n      src={webformatURL}\n      alt={tags}\n      className={s.ImageGalleryItemImage}\n      onClick={() => onClick({ largeImageURL, tags })}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ hits, onClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {hits.map(({ id, tags, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          tags={tags}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  hits: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\nimport s from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleChange = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (this.state.query.trim() === \"\") {\n      return toast(\"Enter a value to search.\", {\n        className: s.toaster,\n      });\n    }\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            value={this.state.query}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import PropTypes from \"prop-types\";\nimport s from \"./LoadMoreButton.module.css\";\n\nconst LoadMoreButton = ({ onClick }) => (\n  <button type=\"button\" className={s.button} onClick={onClick}>\n    Load more\n  </button>\n);\n\nLoadMoreButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default LoadMoreButton;\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  // Close by ESС\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  // Close by Backdrop Click\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport imagesApi from \"./services/ImagesApi\";\nimport Container from \"./components/Container/Container\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport LoadMoreButton from \"./components/Button/LoadMoreButton\";\nimport Modal from \"./components/Modal/Modal\";\n\nimport s from \"./App.module.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    showModal: false,\n    largeImageURL: \"\",\n    tags: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchImages(options)\n      .then((hits) => {\n        if (hits.length === 0) {\n          toast.info(\"Try again!\", {\n            className: s.toaster,\n          });\n        }\n        this.setState((prevState) => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .then(() => {\n        if (this.state.currentPage > 2) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch(() => {\n        toast.info(\"Try again!\", {\n          className: s.toaster,\n        });\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onModal = ({ largeImageURL, tags }) => {\n    this.setState({\n      largeImageURL: largeImageURL,\n      tags: tags,\n    });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { hits, isLoading, showModal, largeImageURL, tags } = this.state;\n    const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n    return (\n      <Container>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery hits={hits} onClick={this.onModal} />\n\n        {shouldRenderLoadMoreButton && (\n          <LoadMoreButton onClick={this.fetchImages} />\n        )}\n\n        {isLoading && (\n          <Loader\n            type=\"BallTriangle\"\n            color=\"#00BFFF\"\n            height={50}\n            width={50}\n            className={s.Loader}\n          />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={tags} />\n          </Modal>\n        )}\n        <ToastContainer autoClose={3000} />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}